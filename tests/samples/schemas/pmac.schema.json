{
  "type": "object",
  "properties": {
    "ioc_name": {
      "type": "string",
      "description": "Name of IOC"
    },
    "instances": {
      "type": "array",
      "items": {
        "anyOf": [
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "pmac.Geobrick"
              },
              "name": {
                "type": "string",
                "description": "Name to use for the geobrick's asyn port"
              },
              "port": {
                "type": "string",
                "description": "Asyn port name for PmacAsynIPPort to connect to"
              },
              "P": {
                "type": "string",
                "description": "PV Prefix for all pmac db templates"
              },
              "idlePoll": {
                "type": "integer",
                "description": "Idle Poll Period in ms"
              },
              "movingPoll": {
                "type": "integer",
                "description": "Moving Poll Period in ms"
              }
            },
            "required": [
              "type",
              "name",
              "port",
              "P",
              "idlePoll",
              "movingPoll"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "pmac.PmacAsynIPPort"
              },
              "name": {
                "type": "string",
                "description": "Asyn port name"
              },
              "IP": {
                "type": "string",
                "description": "IP address of pmac"
              }
            },
            "required": [
              "type",
              "name",
              "IP"
            ],
            "additionalProperties": false
          },
          {
            "type": "object",
            "properties": {
              "type": {
                "type": "string",
                "const": "pmac.DlsPmacAsynMotor"
              },
              "pmac": {
                "type": "string",
                "description": "PMAC to attach to"
              },
              "axis": {
                "type": "integer",
                "description": "which axis number this motor drives"
              },
              "P": {
                "type": "string",
                "description": "PV name for this motor"
              }
            },
            "required": [
              "type",
              "pmac",
              "axis",
              "P"
            ],
            "additionalProperties": false
          }
        ]
      },
      "description": "List of entity instances of the IOCs"
    }
  },
  "required": [
    "ioc_name",
    "instances"
  ],
  "additionalProperties": false,
  "$schema": "http://json-schema.org/draft/2019-09/schema#"
}